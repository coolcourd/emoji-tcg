<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emoji TCG: Tactics</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<div id="menu" class="screen">
    <div style="position: absolute; top: 20px; left: 20px;">
        <button onclick="showScreen('settings')" style="background: #444; padding: 8px 12px; font-size: 0.9rem;">âš™ï¸ SETTINGS</button>
    </div>
    <h1 style="font-size: 3.5rem; color: var(--accent); margin-bottom: 0;">EMOJI TCG</h1>
    <p style="color: #666; margin-bottom: 40px;">Tactical Pocket Edition</p>
    <button onclick="showScreen('tutorial')">TUTORIAL</button>
    <button style="margin-top: 15px;" onclick="showScreen('deck-builder')">DECK BUILDER</button>
    <button style="margin-top: 15px;" onclick="startGame()">START BATTLE</button>
</div>

<div id="tutorial" class="screen hidden">
    <h2 style="color: var(--accent);">TUTORIAL</h2>
    <div id="tutorial-content" style="max-width: 800px; text-align: left; padding: 20px; background: #111; border-radius: 15px; overflow-y: auto; max-height: 70vh;">
        <div id="tut-1" class="tutorial-page">
            <h3 style="color: var(--energy);">ğŸ¯ OBJECTIVE</h3>
            <p>Welcome to <strong>Emoji TCG</strong>! Your goal is to defeat your opponent by knocking out 3 of their monsters.</p>
            
            <h3 style="color: var(--energy);">âš¡ ENERGY SYSTEM</h3>
            <p>â€¢ You gain <strong>1 Energy</strong> at the start of each turn</p>
            <p>â€¢ Use energy to play monster cards and pay retreat costs</p>
            <p>â€¢ Items cost no energy to play</p>
        </div>
        
        <div id="tut-2" class="tutorial-page hidden">
            <h3 style="color: var(--energy);">ğŸ´ DECK BUILDING</h3>
            <p>â€¢ Build a deck of exactly <strong>10 cards</strong></p>
            <p>â€¢ Mix monsters and items for strategy</p>
            <p>â€¢ Monster costs: 0-3 energy</p>
            <p>â€¢ Higher cost = stronger monsters</p>
            
            <h3 style="color: var(--energy);">ğŸ”„ CARD TYPES</h3>
            <p><strong>ğŸ¦– Monsters:</strong> Fight and deal damage</p>
            <p><strong>ğŸ”‹ Items:</strong> Provide instant effects</p>
        </div>
        
        <div id="tut-3" class="tutorial-page hidden">
            <h3 style="color: var(--energy);">âš”ï¸ BATTLE BASICS</h3>
            <p>â€¢ Play 1 monster as your <strong>Active</strong> fighter</p>
            <p>â€¢ Place up to 3 monsters on your <strong>Bench</strong></p>
            <p>â€¢ Only your Active monster can attack</p>
            <p>â€¢ When Active is knocked out, promote from bench</p>
            
            <h3 style="color: var(--energy);">ğŸ¯ ATTACKING</h3>
            <p>â€¢ Click <strong>ATTACK</strong> to damage opponent's Active</p>
            <p>â€¢ Some attacks cause status effects</p>
            <p>â€¢ Attacking ends your turn</p>
        </div>
        
        <div id="tut-4" class="tutorial-page hidden">
            <h3 style="color: var(--energy);">ğŸ’¥ STATUS EFFECTS</h3>
            <p><strong>ğŸ”¥ Burn:</strong> Take 20 damage each turn</p>
            <p><strong>âš¡ Paralysis:</strong> Cannot attack next turn</p>
            <p>â€¢ Effects clear when retreating</p>
            
            <h3 style="color: var(--energy);">ğŸ”„ RETREATING</h3>
            <p>â€¢ Click bench monsters to swap with Active</p>
            <p>â€¢ Costs energy equal to monster's retreat cost</p>
            <p>â€¢ Clears status effects</p>
        </div>
        
        <div id="tut-5" class="tutorial-page hidden">
            <h3 style="color: var(--energy);">ğŸ“‹ STRATEGY TIPS</h3>
            <p>â€¢ <strong>Energy Management:</strong> Save energy for powerful monsters</p>
            <p>â€¢ <strong>Status Control:</strong> Use ğŸ’‰ Antidote to cure effects</p>
            <p>â€¢ <strong>Healing Items:</strong> Keep monsters healthy</p>
            <p>â€¢ <strong>Bench Planning:</strong> Always have backup monsters</p>
            
            <h3 style="color: var(--energy);">ğŸ† WINNING</h3>
            <p>First player to score <strong>3 knockouts</strong> wins!</p>
            <p>Good luck, trainer! ğŸ®</p>
        </div>
    </div>
    
    <div style="margin-top: 20px; display: flex; gap: 15px; align-items: center;">
        <button id="tut-prev" onclick="tutorialNav(-1)" style="background: #444;">â—€ PREV</button>
        <span id="tut-counter" style="color: var(--accent); font-weight: bold;">1 / 5</span>
        <button id="tut-next" onclick="tutorialNav(1)">NEXT â–¶</button>
        <button onclick="showScreen('menu')" style="background: #444; margin-left: auto;">BACK TO MENU</button>
    </div>
</div>

<div id="settings" class="screen hidden">
    <h2 style="color: var(--accent);">âš™ï¸ SETTINGS</h2>
    <div style="max-width: 500px; text-align: left; padding: 30px; background: #111; border-radius: 15px; margin: 0 auto;">
        <div style="margin-bottom: 30px;">
            <h3 style="color: var(--energy); margin-bottom: 15px;">ğŸ”Š AUDIO SETTINGS</h3>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; color: #fff;">Background Music Volume:</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span style="color: #666; font-size: 0.9rem;">ğŸ”‡</span>
                    <input type="range" id="music-volume" min="0" max="100" value="40" style="flex: 1; height: 8px; background: #333; outline: none; border-radius: 5px;">
                    <span style="color: #666; font-size: 0.9rem;">ğŸ”Š</span>
                    <span id="music-percent" style="color: var(--accent); min-width: 35px; text-align: right;">40%</span>
                </div>
            </div>
            
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; color: #fff;">Sound Effects Volume:</label>
                <div style="display: flex; align-items: center; gap: 10px;">
                    <span style="color: #666; font-size: 0.9rem;">ğŸ”‡</span>
                    <input type="range" id="sfx-volume" min="0" max="100" value="50" style="flex: 1; height: 8px; background: #333; outline: none; border-radius: 5px;">
                    <span style="color: #666; font-size: 0.9rem;">ğŸ”Š</span>
                    <span id="sfx-percent" style="color: var(--accent); min-width: 35px; text-align: right;">50%</span>
                </div>
            </div>
            
            <div style="margin-top: 25px; text-align: center;">
                <button onclick="testSfx()" style="background: #444; margin-right: 10px;">ğŸ”Š TEST SFX</button>
                <button onclick="toggleMusic()" id="music-toggle">ğŸµ TOGGLE MUSIC</button>
            </div>
        </div>
    </div>
    
    <div style="margin-top: 30px;">
        <button onclick="showScreen('menu')">BACK TO MENU</button>
    </div>
</div>

<div id="deck-builder" class="screen hidden">
    <h2>YOUR DECK (<span id="count">0</span>/10) - Requires at least 1 monster with âš¡1 cost</h2>
    <div id="catalog" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 10px; width: 100%; overflow-y: auto; padding: 20px; background: #000; border-radius: 10px; max-height: 60vh;"></div>
    <div style="margin-top: 20px;">
        <button onclick="saveDeck()">SAVE & BACK</button>
        <button style="background: #444" onclick="clearDeck()">RESET</button>
        <button style="background: #2e7d32; margin-left: 10px;" onclick="generateRandomDeck()">RANDOM DECK</button>
    </div>
</div>

<div id="battle" class="screen hidden" style="padding: 0;">
    <div id="board">
        <div class="side">
            <div style="font-size: 0.8rem; color: #fff; margin-bottom: 10px; text-align: center;">
                ğŸ¤– CPU SCORE: <span id="cpu-score">0</span>/3
            </div>
            <div id="cpu-bench" class="bench"></div>
            <div id="cpu-active" class="slot">ACTIVE</div>
        </div>

        <div id="game-log" class="log">READY? BATTLE!</div>

        <div class="side">
            <div id="player-active" class="slot">ACTIVE</div>
            <div id="player-bench" class="bench"></div>
        </div>

        <div class="ui-bar">
            <div style="font-size: 0.8rem; line-height: 1.4;">
                âš¡ ENERGY: <span id="p-nrg" style="color: var(--energy)">0</span><br>
                ğŸ† SCORE: <span id="p-scr">0</span>/3
            </div>
            <div id="player-hand" class="hand"></div>
            <div id="attack-buttons">
                <button id="atk-btn" onclick="handleAttack(1)">ATTACK</button>
                <button id="atk2-btn" onclick="handleAttack(2)" style="display: none;">POWER ATTACK</button>
            </div>
            <button onclick="endTurn()" style="background: #444">END TURN</button>
            <button onclick="forfeitGame()" style="background: #666; margin-left: auto;">FORFEIT</button>
        </div>
    </div>
</div>

<script src="script.js"></script>
</body>
</html>